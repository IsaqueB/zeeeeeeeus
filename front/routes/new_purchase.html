<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
      <div class="page_here">
        <div class="header_np">
          Adicionar uma Compra
        </div>
        <div class="new_purchase_form" >
            <form id="formulario" action='/'>
                <p>PESO</p>
                <input class="field" type="number" id='peso' name="weight">
                <p>PREÃ‡O</p>
                <input class="field" type="number" step="0.01" id='preco' name="price">
                <p><input id="form_submit" type="submit" value="Enviar"></p>
            </form>
        </div>
      </div>
    </body>
    <script>
        formulario.onsubmit = e => {
          e.preventDefault()
          formData = new FormData(formulario)
          let inputs = formData.entries()
          let object = {}
          for(let position of inputs){
            object[position[0]] = position[1]
          }
          let np_post = $.post("http://localhost:3000/new_purchase", object).then( feedback =>{
            alert("Compra adicionada")
          })
        }
      </script>
      <link rel="stylesheet" href="../styles/new_purchase.css">
</html>